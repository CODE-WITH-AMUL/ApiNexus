{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>API Hub - Discover & Integrate Powerful APIs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Discover, test, and integrate thousands of public APIs for your projects. Free APIs with documentation, testing tools, and community reviews.">

    <!-- Tailwind CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Custom CSS -->
    <style>
        :root {
            --primary: #3b82f6;
            --secondary: #1e293b;
            --accent: #8b5cf6;
        }
        
        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e5e7eb;
            min-height: 100vh;
        }
        
        .glass {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .glass:hover {
            border-color: rgba(59, 130, 246, 0.3);
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }
        
        .gradient-bg {
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }
        
        .category-chip {
            transition: all 0.2s ease;
        }
        
        .category-chip:hover {
            transform: scale(1.05);
            background: var(--primary);
        }
        
        .api-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            min-height: 380px;
            display: flex;
            flex-direction: column;
        }
        
        .api-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }
        
        .tag {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 1.5rem;
        }
        
        .feature-icon {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 1rem;
        }
        
        .search-highlight {
            background: rgba(59, 130, 246, 0.2);
            border-left: 4px solid var(--primary);
        }
        
        .pagination-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        
        .pagination-btn:hover {
            background: rgba(59, 130, 246, 0.2);
            border-color: var(--primary);
        }
        
        .pagination-btn.active {
            background: var(--primary);
            color: white;
        }
        
        .quick-filter {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50px;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }
        
        .quick-filter:hover, .quick-filter.active {
            background: var(--primary);
            color: white;
        }
        
        .animate-fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Auth badges */
        .auth-badge {
            font-size: 0.7rem;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
        }
        
        .auth-none { background: rgba(34, 197, 94, 0.1); color: #22c55e; }
        .auth-api_key { background: rgba(59, 130, 246, 0.1); color: #3b82f6; }
        .auth-other { background: rgba(168, 85, 247, 0.1); color: #a855f7; }
        
        /* Dark mode improvements */
        .dark input, .dark select, .dark textarea {
            background: rgba(15, 23, 42, 0.8);
            color: white;
        }
        
        .dark input:focus, .dark select:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .glass {
                backdrop-filter: blur(8px);
            }
        }
        
        /* Line clamp utilities */
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</head>
<body class="dark font-sans">

    <!-- Navigation -->
    <nav class="glass sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="/" class="flex items-center space-x-3">
                        <div class="w-10 h-10 rounded-lg gradient-bg flex items-center justify-center">
                            <i class="fas fa-plug text-white"></i>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold text-white">API Hub</h1>
                            <p class="text-xs text-slate-400">Discover & Integrate</p>
                        </div>
                    </a>
                </div>

                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#explore" class="text-slate-300 hover:text-white transition">Explore APIs</a>
                    <a href="#categories" class="text-slate-300 hover:text-white transition">Categories</a>
                    <a href="#features" class="text-slate-300 hover:text-white transition">Features</a>
                    <a href="#trending" class="text-slate-300 hover:text-white transition">Trending</a>
                    <a href="{% url 'api:categories' %}" class="text-slate-300 hover:text-white transition">All Categories</a>
                </div>

                <!-- Auth & User Menu -->
                <div class="flex items-center space-x-4">
                    <button class="px-4 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 transition">
                        <i class="fas fa-user mr-2"></i>Sign In
                    </button>
                    <button class="px-4 py-2 rounded-lg gradient-bg hover:opacity-90 transition">
                        <i class="fas fa-upload mr-2"></i>Submit API
                    </button>
                </div>

                <!-- Mobile Menu Button -->
                <button id="mobile-menu-button" class="md:hidden text-slate-300 hover:text-white">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="md:hidden hidden px-4 pb-4">
            <div class="space-y-2">
                <a href="#explore" class="block py-2 text-slate-300 hover:text-white">Explore APIs</a>
                <a href="#categories" class="block py-2 text-slate-300 hover:text-white">Categories</a>
                <a href="#features" class="block py-2 text-slate-300 hover:text-white">Features</a>
                <a href="#trending" class="block py-2 text-slate-300 hover:text-white">Trending</a>
                <a href="{% url 'api:categories' %}" class="block py-2 text-slate-300 hover:text-white">All Categories</a>
                <div class="pt-2 border-t border-slate-700">
                    <button class="w-full mb-2 px-4 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 transition">
                        <i class="fas fa-user mr-2"></i>Sign In
                    </button>
                    <button class="w-full px-4 py-2 rounded-lg gradient-bg hover:opacity-90 transition">
                        <i class="fas fa-upload mr-2"></i>Submit API
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="pt-16 pb-24 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div class="text-center">
                <h1 class="text-5xl md:text-7xl font-bold mb-6">
                    <span class="bg-clip-text text-transparent gradient-bg">
                        Discover Amazing APIs
                    </span>
                </h1>
                <p class="text-xl text-slate-400 mb-10 max-w-3xl mx-auto">
                    Explore thousands of public APIs. Find the perfect API for your next project with our curated collection, detailed documentation, and community reviews.
                </p>
                
                <!-- Quick Stats -->
                <div class="flex flex-wrap justify-center gap-6 mb-12">
                    <div class="stat-card">
                        <div class="text-3xl font-bold text-white">{{ total_apis|default:"1,000+" }}</div>
                        <div class="text-slate-400">Public APIs</div>
                    </div>
                    <div class="stat-card">
                        <div class="text-3xl font-bold text-white">{{ categories.count|default:"50+" }}</div>
                        <div class="text-slate-400">Categories</div>
                    </div>
                    <div class="stat-card">
                        <div class="text-3xl font-bold text-white">85%</div>
                        <div class="text-slate-400">Free APIs</div>
                    </div>
                    <div class="stat-card">
                        <div class="text-3xl font-bold text-white">10K+</div>
                        <div class="text-slate-400">Monthly Users</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Search Section -->
    <section id="explore" class="py-8 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div class="glass rounded-2xl p-8 animate-fade-in">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold mb-3">Find Your Perfect API</h2>
                    <p class="text-slate-400">Search by name, category, tags, or functionality</p>
                </div>

                <form method="GET" action="{% url 'api:home' %}" class="space-y-6">
                    <!-- Main Search -->
                    <div class="relative">
                        <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400">
                            <i class="fas fa-search"></i>
                        </div>
                        <input
                            type="text"
                            name="q"
                            value="{{ query|default:'' }}"
                            placeholder="Search for APIs (e.g., 'weather', 'payment', 'AI', 'social media')..."
                            class="w-full pl-12 pr-4 py-4 rounded-xl bg-slate-900/50 border border-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500 text-lg"
                        >
                    </div>

                    <!-- Quick Filters -->
                    <div class="flex flex-wrap gap-3 justify-center">
                        <button type="button" class="quick-filter active" onclick="window.location.href='{% url 'api:home' %}'">All APIs</button>
                        <button type="button" class="quick-filter" onclick="window.location.href='{% url 'api:home' %}?is_free=1'">Free Only</button>
                        <button type="button" class="quick-filter" onclick="window.location.href='{% url 'api:home' %}?sort=created_at'">Newest</button>
                        <button type="button" class="quick-filter" onclick="window.location.href='{% url 'api:home' %}?auth=api_key'">API Key</button>
                        <button type="button" class="quick-filter" onclick="window.location.href='{% url 'api:home' %}?https=1'">HTTPS</button>
                    </div>

                    <!-- Advanced Filters -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <!-- Category -->
                        <div>
                            <label class="block text-sm font-medium text-slate-300 mb-2">
                                <i class="fas fa-folder mr-2"></i>Category
                            </label>
                            <select name="category" class="w-full px-4 py-3 rounded-lg bg-slate-900/50 border border-slate-700">
                                <option value="">All Categories</option>
                                {% for cat in categories|slice:":10" %}
                                <option value="{{ cat.slug }}" {% if request.GET.category == cat.slug %}selected{% endif %}>
                                    {{ cat.name }} ({{ cat.api_count }})
                                </option>
                                {% endfor %}
                            </select>
                        </div>

                        <!-- Authentication -->
                        <div>
                            <label class="block text-sm font-medium text-slate-300 mb-2">
                                <i class="fas fa-key mr-2"></i>Authentication
                            </label>
                            <select name="auth" class="w-full px-4 py-3 rounded-lg bg-slate-900/50 border border-slate-700">
                                <option value="">Any Auth Type</option>
                                <option value="none" {% if request.GET.auth == 'none' %}selected{% endif %}>No Auth</option>
                                <option value="api_key" {% if request.GET.auth == 'api_key' %}selected{% endif %}>API Key</option>
                                <option value="other" {% if request.GET.auth == 'other' %}selected{% endif %}>Other</option>
                            </select>
                        </div>

                        <!-- Pricing -->
                        <div>
                            <label class="block text-sm font-medium text-slate-300 mb-2">
                                <i class="fas fa-tag mr-2"></i>Pricing
                            </label>
                            <select name="is_free" class="w-full px-4 py-3 rounded-lg bg-slate-900/50 border border-slate-700">
                                <option value="">All Pricing</option>
                                <option value="1" {% if request.GET.is_free == '1' %}selected{% endif %}>Free Only</option>
                                <option value="0" {% if request.GET.is_free == '0' %}selected{% endif %}>Paid</option>
                            </select>
                        </div>

                        <!-- Sort By -->
                        <div>
                            <label class="block text-sm font-medium text-slate-300 mb-2">
                                <i class="fas fa-sort mr-2"></i>Sort By
                            </label>
                            <select name="sort" class="w-full px-4 py-3 rounded-lg bg-slate-900/50 border border-slate-700">
                                <option value="created_at" {% if request.GET.sort == 'created_at' %}selected{% endif %}>Newest First</option>
                                <option value="name" {% if request.GET.sort == 'name' %}selected{% endif %}>Name A-Z</option>
                            </select>
                        </div>
                    </div>

                    <!-- Additional Filters -->
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <label class="flex items-center space-x-3 p-3 rounded-lg bg-slate-900/30 hover:bg-slate-900/50 cursor-pointer">
                            <input type="checkbox" name="https" value="1" {% if request.GET.https %}checked{% endif %} class="rounded bg-slate-800 border-slate-600">
                            <span class="text-sm">HTTPS Only</span>
                        </label>
                        <label class="flex items-center space-x-3 p-3 rounded-lg bg-slate-900/30 hover:bg-slate-900/50 cursor-pointer">
                            <input type="checkbox" name="cors" value="1" {% if request.GET.cors %}checked{% endif %} class="rounded bg-slate-800 border-slate-600">
                            <span class="text-sm">CORS Enabled</span>
                        </label>
                        <button type="button" id="clear-filters" class="p-3 rounded-lg bg-slate-800 hover:bg-slate-700 text-sm">
                            <i class="fas fa-times mr-2"></i>Clear Filters
                        </button>
                        <button type="submit" class="p-3 rounded-lg gradient-bg hover:opacity-90 font-semibold">
                            <i class="fas fa-search mr-2"></i>Search APIs
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Categories Section -->
    <section id="categories" class="py-16 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4">Browse by Category</h2>
                <p class="text-slate-400">Find APIs organized by industry and functionality</p>
            </div>
            
            <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4">
                {% for category in categories|slice:":12" %}
                <a href="?category={{ category.slug }}" 
                   class="category-chip glass rounded-xl p-6 text-center hover:shadow-xl transition">
                    <div class="text-3xl mb-3 text-blue-400">
                        {% if category.name|lower == "weather" %}<i class="fas fa-cloud-sun"></i>
                        {% elif category.name|lower == "finance" or category.name|lower == "payment" %}<i class="fas fa-chart-line"></i>
                        {% elif category.name|lower == "social" %}<i class="fas fa-users"></i>
                        {% elif category.name|lower == "maps" or category.name|lower == "location" %}<i class="fas fa-map-marker-alt"></i>
                        {% elif category.name|lower == "ai" or category.name|lower == "machine learning" %}<i class="fas fa-robot"></i>
                        {% elif category.name|lower == "image" or category.name|lower == "photo" %}<i class="fas fa-image"></i>
                        {% elif category.name|lower == "video" %}<i class="fas fa-video"></i>
                        {% elif category.name|lower == "music" or category.name|lower == "audio" %}<i class="fas fa-music"></i>
                        {% elif category.name|lower == "data" %}<i class="fas fa-database"></i>
                        {% elif category.name|lower == "email" %}<i class="fas fa-envelope"></i>
                        {% elif category.name|lower == "sms" or category.name|lower == "messaging" %}<i class="fas fa-sms"></i>
                        {% elif category.name|lower == "security" %}<i class="fas fa-shield-alt"></i>
                        {% else %}<i class="fas fa-cube"></i>
                        {% endif %}
                    </div>
                    <h3 class="font-semibold mb-1">{{ category.name }}</h3>
                    <p class="text-xs text-slate-400">{{ category.api_count }} APIs</p>
                </a>
                {% endfor %}
            </div>
            
            {% if categories.count > 12 %}
            <div class="text-center mt-10">
                <a href="{% url 'api:categories' %}" class="inline-flex items-center text-blue-400 hover:text-blue-300">
                    View All {{ categories.count }} Categories <i class="fas fa-arrow-right ml-2"></i>
                </a>
            </div>
            {% endif %}
        </div>
    </section>

    <!-- API Listings -->
    <section class="py-8 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <!-- Results Header -->
            <div class="flex flex-col md:flex-row justify-between items-center mb-8">
                <div>
                    <h2 class="text-2xl font-bold">Available APIs</h2>
                    <p class="text-slate-400">
                        {% if apis %}
                            Showing {{ apis.start_index }}-{{ apis.end_index }} of {{ apis.paginator.count }} APIs
                            {% if query %}for "{{ query }}"{% endif %}
                        {% else %}
                            No APIs found
                        {% endif %}
                    </p>
                </div>
                <div class="flex items-center space-x-4 mt-4 md:mt-0">
                    <span class="text-slate-400 text-sm">View:</span>
                    <button id="grid-view" class="p-2 rounded-lg bg-slate-800">
                        <i class="fas fa-th-large"></i>
                    </button>
                    <button id="list-view" class="p-2 rounded-lg bg-slate-800/50">
                        <i class="fas fa-list"></i>
                    </button>
                </div>
            </div>

            {% if apis %}
            <div id="api-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                {% for api in apis %}
                <div class="api-card glass rounded-2xl p-6 animate-fade-in">
                    <!-- API Header -->
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex-1">
                            <div class="flex items-center space-x-2 mb-2">
                                {% if api.is_free %}
                                <span class="text-xs bg-emerald-600 px-2 py-1 rounded-full">FREE</span>
                                {% else %}
                                <span class="text-xs bg-amber-600 px-2 py-1 rounded-full">PREMIUM</span>
                                {% endif %}
                                <span class="auth-badge auth-{{ api.auth }}">
                                    {{ api.get_auth_display }}
                                </span>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-1">
                                <a href="{{ api.get_absolute_url }}" class="hover:text-blue-400 transition">
                                    {{ api.name }}
                                </a>
                            </h3>
                        </div>
                    </div>

                    <!-- Category -->
                    <div class="mb-4">
                        <span class="text-xs text-slate-400">
                            <i class="fas fa-folder mr-1"></i>
                            {{ api.category.name|default:"Uncategorized" }}
                        </span>
                    </div>

                    <!-- Description -->
                    <p class="text-slate-300 mb-6 line-clamp-3 flex-grow">
                        {{ api.description|truncatechars:150 }}
                    </p>

                    <!-- Features -->
                    <div class="flex flex-wrap gap-2 mb-4">
                        {% if api.https_support %}
                        <span class="text-xs bg-green-900/30 text-green-400 px-2 py-1 rounded">
                            <i class="fas fa-lock mr-1"></i>HTTPS
                        </span>
                        {% endif %}
                        {% if api.cors %}
                        <span class="text-xs bg-blue-900/30 text-blue-400 px-2 py-1 rounded">
                            <i class="fas fa-exchange-alt mr-1"></i>CORS
                        </span>
                        {% endif %}
                        {% if api.auth_header %}
                        <span class="text-xs bg-purple-900/30 text-purple-400 px-2 py-1 rounded">
                            <i class="fas fa-key mr-1"></i>Header
                        </span>
                        {% endif %}
                        {% if api.auth_query_param %}
                        <span class="text-xs bg-orange-900/30 text-orange-400 px-2 py-1 rounded">
                            <i class="fas fa-code mr-1"></i>Query Param
                        </span>
                        {% endif %}
                    </div>

                    <!-- Tags -->
                    <div class="flex flex-wrap gap-2 mb-6">
                        {% for tag in api.tags.all|slice:":3" %}
                        <span class="tag text-xs px-3 py-1 rounded-full">
                            {{ tag.name }}
                        </span>
                        {% endfor %}
                        {% if api.tags.count > 3 %}
                        <span class="text-xs text-slate-500 px-2 py-1">+{{ api.tags.count|add:"-3" }}</span>
                        {% endif %}
                    </div>

                    <!-- Action Buttons -->
                    <div class="mt-auto">
                        <div class="flex space-x-3">
                            <a href="{{ api.get_absolute_url }}" 
                               class="flex-1 text-center py-3 rounded-lg gradient-bg hover:opacity-90 transition font-medium">
                                <i class="fas fa-eye mr-2"></i>View Details
                            </a>
                            <a href="{{ api.document_url }}" target="_blank" 
                               class="px-4 py-3 rounded-lg bg-slate-800 hover:bg-slate-700 transition"
                               title="Documentation">
                                <i class="fas fa-book"></i>
                            </a>
                            <button class="px-4 py-3 rounded-lg bg-slate-800 hover:bg-slate-700 transition favorite-btn"
                                    data-api-id="{{ api.id }}" title="Add to favorites">
                                <i class="far fa-heart"></i>
                            </button>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>

            <!-- Pagination -->
            {% if apis.paginator.num_pages > 1 %}
            <div class="flex justify-center items-center space-x-2 mt-12">
                {% if apis.has_previous %}
                <a href="?page={{ apis.previous_page_number }}{% if query %}&q={{ query }}{% endif %}{% if request.GET.category %}&category={{ request.GET.category }}{% endif %}{% if request.GET.auth %}&auth={{ request.GET.auth }}{% endif %}{% if request.GET.is_free %}&is_free={{ request.GET.is_free }}{% endif %}{% if request.GET.sort %}&sort={{ request.GET.sort }}{% endif %}"
                   class="pagination-btn">
                    <i class="fas fa-chevron-left"></i>
                </a>
                {% endif %}

                {% for num in apis.paginator.page_range %}
                    {% if num == apis.number %}
                    <span class="pagination-btn active">{{ num }}</span>
                    {% elif num > apis.number|add:'-3' and num < apis.number|add:'3' %}
                    <a href="?page={{ num }}{% if query %}&q={{ query }}{% endif %}{% if request.GET.category %}&category={{ request.GET.category }}{% endif %}{% if request.GET.auth %}&auth={{ request.GET.auth }}{% endif %}{% if request.GET.is_free %}&is_free={{ request.GET.is_free }}{% endif %}{% if request.GET.sort %}&sort={{ request.GET.sort }}{% endif %}"
                       class="pagination-btn">
                        {{ num }}
                    </a>
                    {% endif %}
                {% endfor %}

                {% if apis.has_next %}
                <a href="?page={{ apis.next_page_number }}{% if query %}&q={{ query }}{% endif %}{% if request.GET.category %}&category={{ request.GET.category }}{% endif %}{% if request.GET.auth %}&auth={{ request.GET.auth }}{% endif %}{% if request.GET.is_free %}&is_free={{ request.GET.is_free }}{% endif %}{% if request.GET.sort %}&sort={{ request.GET.sort }}{% endif %}"
                   class="pagination-btn">
                    <i class="fas fa-chevron-right"></i>
                </a>
                {% endif %}
            </div>
            {% endif %}

            {% else %}
            <!-- No Results State -->
            <div class="glass rounded-2xl p-16 text-center">
                <div class="text-6xl text-slate-600 mb-6">
                    <i class="fas fa-search"></i>
                </div>
                <h3 class="text-2xl font-bold mb-4">No APIs Found</h3>
                <p class="text-slate-400 mb-8 max-w-md mx-auto">
                    {% if query %}No results for "{{ query }}". {% endif %}
                    Try adjusting your search filters or browse our categories to find what you're looking for.
                </p>
                <a href="{% url 'api:home' %}" class="px-6 py-3 rounded-lg gradient-bg font-semibold">
                    <i class="fas fa-undo mr-2"></i>Clear Search
                </a>
            </div>
            {% endif %}
        </div>
    </section>

    <!-- Trending APIs -->
    <section id="trending" class="py-16 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div class="flex justify-between items-center mb-8">
                <div>
                    <h2 class="text-3xl font-bold">ðŸ”¥ Trending APIs</h2>
                    <p class="text-slate-400">Recently added APIs</p>
                </div>
            </div>
            
            {% if trending_apis %}
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                {% for api in trending_apis|slice:":3" %}
                <div class="glass rounded-2xl p-6">
                    <div class="flex items-start justify-between mb-4">
                        <div>
                            <span class="text-xs bg-gradient-to-r from-pink-500 to-rose-500 px-3 py-1 rounded-full">
                                New #{{ forloop.counter }}
                            </span>
                            <h3 class="text-lg font-bold mt-2">{{ api.name }}</h3>
                        </div>
                        <div class="text-3xl text-slate-600">
                            <i class="fas fa-bolt"></i>
                        </div>
                    </div>
                    <p class="text-slate-400 text-sm mb-4 line-clamp-2">
                        {{ api.meta_description|default:api.description|truncatechars:100 }}
                    </p>
                    <div class="flex justify-between items-center">
                        <span class="text-xs text-slate-500">
                            <i class="fas fa-clock mr-1"></i>
                            {{ api.created_at|timesince }} ago
                        </span>
                        <a href="{{ api.get_absolute_url }}" class="text-blue-400 hover:text-blue-300 text-sm">
                            Explore <i class="fas fa-arrow-right ml-1"></i>
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% endif %}
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="py-16 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4">Why Choose API Hub?</h2>
                <p class="text-slate-400">Everything you need to find and integrate APIs</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="glass rounded-2xl p-8 text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-bolt text-white"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">Fast Integration</h3>
                    <p class="text-slate-400">Quick start with detailed documentation and code samples</p>
                </div>
                
                <div class="glass rounded-2xl p-8 text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-shield-alt text-white"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">Tested APIs</h3>
                    <p class="text-slate-400">All APIs are verified and tested for functionality</p>
                </div>
                
                <div class="glass rounded-2xl p-8 text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-code text-white"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">Detailed Docs</h3>
                    <p class="text-slate-400">Complete documentation with examples for each API</p>
                </div>
                
                <div class="glass rounded-2xl p-8 text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-users text-white"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">Community</h3>
                    <p class="text-slate-400">Get help from our developer community</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="py-20 px-4 sm:px-6 lg:px-8">
        <div class="max-w-4xl mx-auto text-center">
            <div class="glass rounded-3xl p-12">
                <h2 class="text-4xl font-bold mb-6">Ready to Build Something Amazing?</h2>
                <p class="text-xl text-slate-400 mb-10">
                    Join thousands of developers who are building the future with our API collection.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <a href="#explore" class="px-8 py-4 rounded-xl gradient-bg hover:opacity-90 font-semibold text-lg">
                        <i class="fas fa-rocket mr-2"></i>Start Exploring APIs
                    </a>
                    <button class="px-8 py-4 rounded-xl bg-slate-800 hover:bg-slate-700 font-semibold text-lg">
                        <i class="fas fa-upload mr-2"></i>Submit Your API
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="border-t border-slate-800 py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center space-x-3 mb-6">
                        <div class="w-10 h-10 rounded-lg gradient-bg flex items-center justify-center">
                            <i class="fas fa-plug text-white"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-white">API Hub</h3>
                            <p class="text-xs text-slate-400">Discover & Integrate</p>
                        </div>
                    </div>
                    <p class="text-slate-400 text-sm">
                        The largest directory of public APIs for developers and businesses.
                    </p>
                </div>
                
                <div>
                    <h4 class="font-semibold text-white mb-4">Resources</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-slate-400 hover:text-white text-sm">Documentation</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-white text-sm">API Guidelines</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-white text-sm">Tutorials</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-white text-sm">Blog</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold text-white mb-4">Community</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-slate-400 hover:text-white text-sm">Forums</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-white text-sm">Discord</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-white text-sm">GitHub</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-white text-sm">Twitter</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold text-white mb-4">Legal</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-slate-400 hover:text-white text-sm">Privacy Policy</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-white text-sm">Terms of Service</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-white text-sm">Cookie Policy</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-white text-sm">API License</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-slate-800 mt-8 pt-8 text-center">
                <p class="text-slate-500 text-sm">
                    Â© 2024 API Hub. All rights reserved. | Made with <i class="fas fa-heart text-red-500"></i> for developers
                </p>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button id="backToTop" class="fixed bottom-8 right-8 w-12 h-12 rounded-full gradient-bg shadow-lg hover:shadow-xl transition opacity-0">
        <i class="fas fa-arrow-up text-white"></i>
    </button>

    <!-- JavaScript -->
    <script>
        // Back to top button
        const backToTop = document.getElementById('backToTop');
        
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                backToTop.style.opacity = '1';
            } else {
                backToTop.style.opacity = '0';
            }
        });
        
        backToTop.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Mobile menu toggle
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', (event) => {
            if (!mobileMenu.contains(event.target) && !mobileMenuButton.contains(event.target)) {
                mobileMenu.classList.add('hidden');
            }
        });

        // Clear filters button
        document.getElementById('clear-filters').addEventListener('click', () => {
            window.location.href = "{% url 'api:home' %}";
        });

        // Quick filter buttons
        document.querySelectorAll('.quick-filter').forEach(button => {
            button.addEventListener('click', function() {
                document.querySelectorAll('.quick-filter').forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Grid/List view toggle
        const gridViewBtn = document.getElementById('grid-view');
        const listViewBtn = document.getElementById('list-view');
        const apiGrid = document.getElementById('api-grid');
        
        gridViewBtn.addEventListener('click', () => {
            apiGrid.className = 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6';
            gridViewBtn.className = 'p-2 rounded-lg bg-slate-800';
            listViewBtn.className = 'p-2 rounded-lg bg-slate-800/50';
        });
        
        listViewBtn.addEventListener('click', () => {
            apiGrid.className = 'grid grid-cols-1 gap-6';
            gridViewBtn.className = 'p-2 rounded-lg bg-slate-800/50';
            listViewBtn.className = 'p-2 rounded-lg bg-slate-800';
        });

        // API card hover effects
        document.querySelectorAll('.api-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-8px)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });

        // Search highlighting
        const urlParams = new URLSearchParams(window.location.search);
        const searchQuery = urlParams.get('q');
        if (searchQuery) {
            document.querySelectorAll('.api-card h3').forEach(title => {
                const text = title.textContent;
                const regex = new RegExp(`(${searchQuery})`, 'gi');
                title.innerHTML = text.replace(regex, '<span class="search-highlight">$1</span>');
            });
        }

        // Favorite button functionality
        document.querySelectorAll('.favorite-btn').forEach(button => {
            button.addEventListener('click', function() {
                const icon = this.querySelector('i');
                if (icon.classList.contains('far')) {
                    icon.className = 'fas fa-heart text-red-500';
                    // Here you would typically make an AJAX call to save the favorite
                } else {
                    icon.className = 'far fa-heart';
                    // Here you would typically make an AJAX call to remove the favorite
                }
            });
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                if (this.getAttribute('href') !== '#') {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                }
            });
        });

        // Initialize tooltips
        const tooltipElements = document.querySelectorAll('[title]');
        tooltipElements.forEach(el => {
            el.addEventListener('mouseenter', function() {
                const tooltip = document.createElement('div');
                tooltip.className = 'fixed bg-slate-900 text-white px-3 py-2 rounded-lg text-sm shadow-lg z-50';
                tooltip.textContent = this.getAttribute('title');
                document.body.appendChild(tooltip);
                
                const rect = this.getBoundingClientRect();
                tooltip.style.top = (rect.top - tooltip.offsetHeight - 10) + 'px';
                tooltip.style.left = (rect.left + rect.width / 2 - tooltip.offsetWidth / 2) + 'px';
                
                this._tooltip = tooltip;
            });
            
            el.addEventListener('mouseleave', function() {
                if (this._tooltip) {
                    this._tooltip.remove();
                }
            });
        });

        // Auto-hide mobile menu on scroll
        let lastScrollTop = 0;
        window.addEventListener('scroll', () => {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            if (scrollTop > lastScrollTop) {
                mobileMenu.classList.add('hidden');
            }
            lastScrollTop = scrollTop;
        });
    </script>
</body>
</html>